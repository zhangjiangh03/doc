---
title: 【C】数据类型、变量和常量
date: 2023-05-28 00:00:00
categories:
- C
tags:
- C
---

 [【目录】C语言](/2023/05/28/C/【目录】C语言/)

## C 语言数据类型

C 语言的数据类型有基本数据类型和复杂数据类型两种。

### 基本数据类型

基本数据类型是计算机编程语言中预定义的简单数据类型。C 语言的基本数据类型包括整型、浮点型、字符型和布尔型等。

#### 整型

整型是指没有小数部分的数字。整型可以有不同的长度和符号。

|类型|存储大小|取值范围|
|:---:|:---:|:---|
|int|2 或 4 字节|-32,768 到 32,767 或 -2,147,483,648 到 2,147,483,647|
|unsigned int|2 或 4 字节|0 到 65,535 或 0 到 4,294,967,295|
|short|2 字节|-32,768 到 32,767|
|unsigned short|2 字节|0 到 65,535|
|long|4 字节|-2,147,483,648 到 2,147,483,647|
|unsigned long|4 字节|0 到 4,294,967,295|

#### 浮点型

浮点型是指带有小数部分的数字。浮点型同样可以有不同的长度和精度。

|类型|存储大小|取值范围|精度|
|:---:|:---:|:---|:---:|
|float|4 字节|1.2E-38 到 3.4E+38|6 位小数|
|double|8 字节|2.3E-308 到 1.7E+308	15 位小数|
|long double|10 或 12 或 16 字节|3.4E-4932 到 1.1E+4932	19 位小数|

#### 字符型

字符型数据类型用于存储单个字符。单引号括起来的字符就是字符型字面量。

|类型|存储大小|取值范围|
|:---:|:---:|:---|
|char|1 字节|-128 到 127 或 0 到 255|
|signed char|1 字节|-128 到 127|
|unsigned char|1 字节|0 到 255|

#### 布尔型

布尔型数据类型用于存储逻辑值 `true` 或 `false` 。用来表示真、假两个值，其大小为一个字节。
一般情况下，`true` 的值为 `1`，`false` 的值为 `0` 。C语言中布尔型数据类型使用关键字 `_Bool` 或 `bool` 定义。

```c
#include <stdio.h>
#include <stdbool.h>

int main()
{
    bool flag = true;
    printf("flag = %d\n"，flag);
    
    flag = false;
    printf("flag = %d\n"，flag);
    
    return 0;
}
```

输出结果为：

```text
flag = 1
flag = 0
```

C 语言还允许使用 `typedef` 来自定义数据类型，例如 `typedef int myInt` 就将 `myInt` 定义为 `int` 类型的别名。

### 复杂数据类型

C 语言的复杂数据类型包括数组、结构体、共用体和枚举等几种，这里只是简单提到，后面会有较详细的笔记。

- 数组：一组相同类型的变量，在内存中依次排列，使用下标访问数组中的单个元素。
- 结构体：一组不同类型的变量，可以自定义组合在一起，每个变量都有自己的名称和数据类型，可以通过结构体变量名和点号来访问其中的某个变量。
- 共用体：特殊的结构体，所有的成员变量共享一个地址空间。
- 枚举：一种可以定义自己的符号常量的类型。枚举类型中的每个符号常量都有一个对应的整数值。

#### 类型转换

##### int 转 short

在C语言中，`int` 和 `short` 都是整型数据类型，但它们的长度不同。

- `int` 通常占用4个字节（32位），而 `short` 通常占用2个字节（16位）。

如果原来的 `int` 变量的值超过了 `short` 类型的取值范围，那么在进行类型转换时，这些超出范围的高位将被丢弃，只保留低位的数值。可能导致程序出现错误或数据的精度降低。同时，由于 `short` 类型的范围较小，可能会导致一些算术运算的结果溢出或不正确。

```c
#include <stdio.h>

int main() {
    int x = 65535; //设置一个值为65535的int类型变量x
    short y = x; //将x从int类型转换为short类型并赋值给y
    printf("x : %d\n"，x); //打印x的值
    printf("y : %d\n"，y); //打印y的值
    return 0;
}
```

输出结果：

```text
x : 65535
y : -1
```

`short` 类型只有16位的情况下，数值范围最大只能到 `32767` 。`x` 的值超过了 `short` 类型的取值范围，因此在进行类型转换时，高位被丢弃并截断，保留了低位，导致`y`的值变成了 `-1` 。

## 变量


变量是一种内存管理机制，用于存储和操作程序中的数据。它们可以拥有各种不同的数据类型，包括整数、浮点数、字符和布尔值等。
在C语言中，变量的声明必须以数据类型开始，并使用一个唯一的标识符来引用它们。
关于C语言的标识符，是指程序中用来命名变量、函数、宏等程序实体的名称，规则如下：

1.  标识符由字母、数字和下划线组成，不能以数字开头。
2.  标识符的长度没有限制，但只有前31个字符才会被编译器识别，超过部分将被忽略。
3.  C语言是区分大小写的，因此相同的单词，但大小写不同，被视为不同的标识符。
4.  关键字不能用作标识符，例如 `if` 、 `while` 、 `int` 等。
5.  标识符不能包含空格、运算符或其他特殊字符，只能由ASCII码中的可打印字符组成。

一个简单变量的定义规则如下：

```text
变量数据类型 变量名称;
```

这告诉编译器给变量 `x` 分配一些内存，以便将其值存储在其中。
例如：

```c
int num;
```

变量可以被初始化，也可以被赋值。

初始化：

```text
变量数据类型 变量名称 = 数值;
```

赋值：

```text
变量数据类型 变量名称;
变量名称 = 数值; 
```

下面的代码是将变量 `x` 初始化为`10`：

```c
int x = 10;
```

将其他值赋给变量 `x` ：

```c
x = 20;
```

此时`x`的值从 `10` 变为 `20` 。

C 语言中的变量还有作用域的概念。作用域是指变量在程序中可见的范围。
在函数内部定义的变量只在该函数内部可见，称为局部变量。在函数外部定义的变量在整个程序中都可见，称为全局变量。

## 常量

常量是一种固定的值，在计算机程序中使用。它们不像变量那样可以更改，而是始终保持相同的数值。
在C语言中，有两种类型的常量：字面量和符号常量。

### 字面量
    
字面量指的是在代码中硬编码的数字、字符串或其他数据类型，也就是在程序中直接使用的常量值，它们在程序运行时被固定下来，不会发生任何变化。字面量可以是整型、浮点数、字符或字符串等类型。

-   整型字面量：10、100、0xFF、-23等。
-   浮点数字面量：3.14、1.0e-5等。
-   字符字面量：'A'、'7'、'\n'等。
-   字符串字面量："hello, world"、"C语言编程"等。

```c
int x = 10;      // 整数常量
float pi = 3.14; // 浮点数常量
```

上面的代码中 `10` 和 `3.14` 都是字面量，因为它们是在程序中直接使用的常量值。

### 符号常量

符号常量是另一种常量，是通过定义来创建的。
符号常量由预处理器指令 `#define` 创建，习惯上通常用大写字母命名。

```c
#define MAX 100
```

上面的代码中 `MAX` 表示一个值为 `100` 的整数常量。可使用 `MAX` 代替数字 `100` ，在程序执行过程中 `MAX` 会被替换成 `100` 。

```c
#include <stdio.h>
#define MAX 100
const int MAX_NUM = 100;

int main()
{
	printf("%d", MAX); //相当于 printf("%d", 100); 
	return 0;
}
```

`const` 关键字用于定义常量，表示该变量的值不能被修改。它可以用来修饰普通变量、函数参数和函数返回值等。