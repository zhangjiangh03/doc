---
title: 指针与数组
date: 2022-12-25 13:45:00
categories:
- C语言
tags:
- C语言基础
---

在C语言中，指针和数组是两个重要的概念。在某些情况下，它们之间具有相似或等效的行为。本文将详细介绍指针与数组的相关知识点。

## 数组与指针

数组是一组同类型的数据的集合，可以通过下标来访问数组中的元素。指针也可以被用来访问同样的数据类型的元素。

```c
int arr[5] = {1, 2, 3, 4, 5};
int *ptr = arr;
```

上面的代码首先定义了一个包含5个整型元素的数组`arr`，并将前`5`个整数存储在其中。然后定义了一个指向整型的指针`ptr`，并将数组`arr`的首元素的地址赋给`ptr`。

## 数组名与指针

在C语言中，数组名实际上是一个指向数组第一个元素的指针常量，因此我们可以使用数组名来代替指向该数组第一个元素的指针。

```c
int arr[5] = {1, 2, 3, 4, 5};
int *ptr = &arr[0];
```

上面的代码`&arr[0]`与`arr`等效，都指向数组的第一个元素。

## 指针与数组下标

通过指针访问数组元素的另一种方式是使用数组下标。

```c
int arr[5] = {1, 2, 3, 4, 5};
int *ptr = arr;
for (int i = 0; i < 5; i++) {
    printf("%d ", *(ptr + i));
}
```

上面的代码使用了指针和循环来访问数组中的每个元素，并将其打印出来。
需要注意：当使用指针访问数组元素时，必须确保指针指向的内存块中包含所需的元素，否则可能会导致运行时错误。

## 指针与二维数组

指针也可以用于访问二维数组中的元素。例如，下面这个示例中，定义了一个`2x3`的整型数组，然后使用指针访问数组中的每个元素。

```c
int arr[2][3] = {{1, 2, 3}, {4, 5, 6}};
int *ptr = &arr[0][0];
for (int i = 0; i < 2; i++) {
    for (int j = 0; j < 3; j++) {
        printf("%d ", *(ptr + i*3 + j));
    }
    printf("\n");
}
```

上面的代码将指针指向数组的第一个元素，并使用指针和循环访问数组中的每个元素。
需要注意：使用指针访问二维数组元素时，必须确保指针指向的内存块中包含所需的元素，否则可能会导致运行时错误。