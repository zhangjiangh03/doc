---
title: 数据类型
date: 2022-10-02 12:36:00
categories:
- C语言
tags:
- C语言
- 编程语言基础
---

<style>.center {width: auto;display: table;margin-left: auto;margin-right: auto;}</style>

在C语言中，数据类型是指一种内存分配和数据操作的方式。
在编写程序时，我们需要声明变量，同时为每个变量指定相应的数据类型。
C语言提供了多种基本数据类型，包括整型、浮点型、字符型和布尔型等。

## 整型

整数（或整数）是指没有小数部分的数字。
在C语言中，整数可以有不同的长度和符号。

<div class="center">

|类型|存储大小|取值范围|
|:---:|:---:|:---|
|char|1 字节|-128 到 127 或 0 到 255|
|unsigned char|1 字节|0 到 255|
|signed char|1 字节|-128 到 127|
|int|2 或 4 字节|-32,768 到 32,767 或 -2,147,483,648 到 2,147,483,647|
|unsigned int|2 或 4 字节|0 到 65,535 或 0 到 4,294,967,295|
|short|2 字节|-32,768 到 32,767|
|unsigned short|2 字节|0 到 65,535|
|long|4 字节|-2,147,483,648 到 2,147,483,647|
|unsigned long|4 字节|0 到 4,294,967,295|

</div>

## 浮点型

浮点数是指带有小数部分的数字。
在C语言中，浮点数可以有不同的长度和精度。

<div class="center">


|类型|存储大小|取值范围|精度|
|:---:|:---:|:---|:---:|
|float|4 字节|1.2E-38 到 3.4E+38|6 位小数|
|double|8 字节|2.3E-308 到 1.7E+308	15 位小数|
|long double|10 或 12 或 16 字节|3.4E-4932 到 1.1E+4932	19 位小数|

</div>

## 字符型

字符型数据类型用于存储单个字符。
在C语言中，单引号括起来的字符就是字符型字面量。

<div class="center">

|类型|存储大小|取值范围|
|:---:|:---:|:---|
|char|1 字节|-128 到 127 或 0 到 255|
|signed char|1 字节|-128 到 127|
|unsigned char|1 字节|0 到 255|

</div>

## 布尔型

布尔型数据类型用于存储逻辑值`true`或`false`。一般情况下，`true`的值为`1`，`false`的值为`0`。
在C语言中，布尔型数据类型使用关键字`_Bool`或`bool`定义。

## 类型转换

### int 转 short

在C语言中，`int`和`short`都是整型数据类型，但它们的长度不同。
`int`通常占用4个字节（32位），而`short`通常占用2个字节（16位）。
如果原来的`int`变量的值超过了`short`类型的取值范围，那么在进行类型转换时，这些超出范围的高位将被丢弃，只保留低位的数值。可能导致程序出现错误或数据的精度降低。同时，由于`short`类型的范围较小，可能会导致一些算术运算的结果溢出或不正确。

```c
#include <stdio.h>

int main() {
    int x = 65535; //设置一个值为65535的int类型变量x
    short y = x; //将x从int类型转换为short类型并赋值给y
    printf("x : %d\n", x); //打印x的值
    printf("y : %d\n", y); //打印y的值
    return 0;
}
```

输出结果：

```text
x : 65535
y : -1
```

`short`类型只有16位的情况下，数值范围最大只能到`32767`。`x`的值超过了`short`类型的取值范围，因此在进行类型转换时，高位被丢弃并截断，保留了低位，导致`y`的值变成了`-1`。