---
title: 结构体变量的引用
date: 2022-09-25 10:17:00
categories:
- C语言
tags:
- C语言基础
---

结构体变量是一种用户自定义的数据类型，其主要作用是将多个不同类型的变量组合在一起，形成一个结构体变量。

## 直接引用

直接引用是指通过点操作符`.`或箭头操作符`->`来访问结构体变量成员的值。

- 结构体变量名.成员名
- 指针变量名->成员名
- (* 指针变量名).成员名

其中，点操作符用于访问结构体变量的成员，而箭头操作符则用于访问指向结构体变量的指针的成员。

### 点操作符

点操作符的一般形式：

```text
结构体变量名.成员名
```

```c
struct Person {
    char name[20];
    int age;
    char gender;
};
```

```c
struct Person person = {"Tom", 20, 'M'};
printf("name=%s,age=%d,gender=%c\n", person.name, person.age, person.gender);
```

```c
name=Tom,age=20,gender=M
```

### 箭头操作符

箭头操作符的一般形式：

```text
指向结构体变量的指针->成员名
```

```c
struct Person {
    char name[20];
    int age;
    char gender;
};

int main() {
    struct Person person = {"Tom", 20, 'M'};
    struct Person *p = &person;
    printf("name=%s,age=%d,gender=%c\n", p->name, p->age, p->gender);
    return 0;
}
```

输出结果为：

```c
name=Tom,age=20,gender=M
```

## 间接引用

间接引用是指通过指针变量来访问结构体变量成员的值。
其中，指针变量应指向结构体变量。使用指针访问结构体变量时，需要使用箭头操作符`->`。

```c
struct Person {
    char name[20];
    int age;
    char gender;
};

int main() {
    struct Person person = {"Tom", 20, 'M'};
    struct Person *p = &person;
    printf("name=%s,age=%d,gender=%c\n", p->name, p->age, p->gender);
    return 0;
}
```

输出结果为：

```c
name=Tom,age=20,gender=M
```

需要注意：使用指针访问结构体变量成员时，应确保指针指向的内存空间是合法的，并且在访问成员之前要先判断指针是否为空指针。